#!/usr/bin/env bash

old_pwd="$PWD"
cd $(dirname $0)
mkdir -p output

if [ $1 == 'install' ]; then
    python3 src/metric_utility_functions/localclone_install.py
elif [ $1 == 'build' ]; then 
    cargo build;
elif [ $1 == 'clean' ]; then 
    rm log_file.log; rm -r -f target; rm -r -f output
elif [ $1 == 'tempclean' ]; then 
    rm testfile.txt && cd output && rm *.txt && cd ../log && rm *.txt;
elif [ $1 == 'test' ]; then
    python3 test/test_suite_script.py
else
    export $(cat .env | xargs)
    cargo run "$@"
fi

cd $old_pwd